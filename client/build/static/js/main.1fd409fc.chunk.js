(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(49)},25:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c);a(25),a(26),a(27);function s(){return r.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("h1",{href:"/",className:"navbar-item"},"React / Node Todo App"),r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement("div",{className:"buttons"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/andreviallon/react-hooks-todo-app",className:"button is-primary"},r.a.createElement("strong",null,"View in Github")))))))}a(28);var l=a(4),u=a(2),i=a(3),d=a.n(i),p=a(6),m=a(19),f=function(e,t){switch(t.type){case"GET_TODOS":return Object(u.a)({},e,{todos:t.payload});case"ADD_TODO":return Object(u.a)({},e,{todos:[].concat(Object(m.a)(e.todos),[t.payload]),toast:{action:"add",message:"Todo Added",isShown:!0}});case"CHECK_TODO":return Object(u.a)({},e);case"DELETE_TODO":return Object(u.a)({},e,{todos:e.todos.filter(function(e){return e._id!==t.payload}),toast:{action:"delete",message:"Todo Deleted",isShown:!0}});case"TODOS_ERROR":return Object(u.a)({},e,{toast:{action:"error",message:t.payload,isShown:!0}});case"CLEAR_TOAST":return Object(u.a)({},e,{toast:Object(u.a)({},e.toast,{isShown:t.payload})});default:return e}},E=a(7),b=a.n(E),O={todos:[],toast:{action:"",message:"",isShown:!1}},v=Object(n.createContext)(O),h=function(e){var t=e.children,a=Object(n.useReducer)(f,O),c=Object(l.a)(a,2),o=c[0],s=c[1];function i(){return(i=Object(p.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/v1/todos");case 3:t=e.sent,s({type:"GET_TODOS",payload:t.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:"TODOS_ERROR",payload:e.t0.response.data.error});case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function m(){return(m=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.delete("/api/v1/todos/".concat(t));case 3:s({type:"DELETE_TODO",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),s({type:"TODOS_ERROR",payload:e.t0.response.data.error});case 9:case"end":return e.stop()}},e,null,[[0,6]])}))).apply(this,arguments)}function E(){return(E=Object(p.a)(d.a.mark(function e(t){var a,n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.trim()){e.next=2;break}return e.abrupt("return");case 2:return a={text:t,checked:!1},n={headers:{"Content-Type":"application/json"}},e.prev=4,e.next=7,b.a.post("api/v1/todos",a,n);case 7:r=e.sent,s({type:"ADD_TODO",payload:r.data.data}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.log("err =>",e.t0),s({type:"TODOS_ERROR",payload:e.t0.response.data.error});case 15:case"end":return e.stop()}},e,null,[[4,11]])}))).apply(this,arguments)}function h(){return(h=Object(p.a)(d.a.mark(function e(t){var a,n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(u.a)({},t,{checked:!t.checked}),n={headers:{"Content-Type":"application/json"}},e.prev=2,e.next=5,b.a.put("api/v1/todos/".concat(t._id),a,n);case 5:r=e.sent,s({type:"CHECK_TODO",payload:r.data.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),s({type:"TODOS_ERROR",payload:e.t0.response.data.error});case 12:case"end":return e.stop()}},e,null,[[2,9]])}))).apply(this,arguments)}return r.a.createElement(v.Provider,{value:{todos:o.todos,toast:o.toast,getTodos:function(){return i.apply(this,arguments)},addTodo:function(e){return E.apply(this,arguments)},checkTodo:function(e){return h.apply(this,arguments)},deleteTodo:function(e){return m.apply(this,arguments)},clearToast:function(){s({type:"CLEAR_TOAST",payload:!1})}}},t)},y=(a(47),function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useContext)(v).addTodo;return r.a.createElement("form",{className:"flex-container",onSubmit:function(e){e.preventDefault(),o(a),c("")}},r.a.createElement("input",{className:"input",type:"text",placeholder:"Todo",value:a,onChange:function(e){return c(e.target.value)}}),r.a.createElement("button",{className:"button is-primary"},"Add Todo"))});function T(e){var t=e.todo,a=Object(n.useContext)(v),c=a.deleteTodo,o=a.checkTodo;return r.a.createElement("tr",null,r.a.createElement("td",{className:"table-todo"},r.a.createElement("label",{className:"checkbox"},r.a.createElement("input",{type:"checkbox",defaultChecked:t.checked,onClick:function(){return o(t)}}),r.a.createElement("div",{className:"todo"},t.text)),r.a.createElement("span",{className:"delete",onClick:function(){return c(t._id)}})))}function j(){var e=Object(n.useContext)(v),t=e.todos,a=e.getTodos;return Object(n.useEffect)(function(){a()},[]),r.a.createElement("div",null,r.a.createElement(y,null),r.a.createElement("div",{className:"todo-list"},r.a.createElement("div",{className:"table-container"},r.a.createElement("table",{className:"table is-fullwidth is-hoverable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("div",{title:"Todos"},"Todos")))),r.a.createElement("tbody",null,t.map(function(e,t){return r.a.createElement(T,{key:t,index:t,todo:e})}))))))}a(48);var k=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useContext)(v),s=o.toast,u=o.clearToast;Object(n.useEffect)(function(){i(),s.isShown&&setTimeout(function(){return u()},3e3)},[s]);var i=function(){switch(s.action){case"add":return c("is-primary");case"delete":return c("is-warning");case"error":return c("is-danger");default:return c("is-primary")}};return r.a.createElement(r.a.Fragment,null,s.isShown?r.a.createElement("div",{className:"notification ".concat(a)},r.a.createElement("strong",null,s.message),r.a.createElement("button",{className:"delete",onClick:function(){return u()}})):null)};function w(){return r.a.createElement(h,{className:"App"},r.a.createElement(s,null),r.a.createElement("div",{className:"container"},r.a.createElement(j,null)),r.a.createElement(k,null))}var x=document.getElementById("root");o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),x)}},[[20,1,2]]]);
//# sourceMappingURL=main.1fd409fc.chunk.js.map