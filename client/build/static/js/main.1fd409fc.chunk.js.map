{"version":3,"sources":["components/Header/Header.jsx","context/TodoReducer.js","context/TodoState.js","components/AddTodo/AddTodo.jsx","components/Todo/Todo.jsx","components/Todos/Todos.jsx","components/Toast/Toast.jsx","App.js","index.js"],"names":["Header","react_default","a","createElement","className","role","aria-label","href","target","rel","TodoReducer","state","action","type","Object","objectSpread2","todos","payload","concat","toConsumableArray","toast","message","isShown","filter","todo","_id","initialState","TodoContext","createContext","TodoProvider","_ref","children","_useReducer","useReducer","_useReducer2","slicedToArray","dispatch","_getTodos","asyncToGenerator","regenerator_default","mark","_callee","res","wrap","_context","prev","next","axios","get","sent","data","t0","response","error","stop","apply","this","arguments","_deleteTodo","_callee2","id","_context2","delete","_addTodo","_callee3","newTodo","config","_context3","trim","abrupt","text","checked","headers","Content-Type","post","console","log","_checkTodo","_callee4","updatedTodo","_context4","put","Provider","value","getTodos","addTodo","_x2","checkTodo","_x3","deleteTodo","_x","clearToast","AddTodo","_useState","useState","_useState2","setTodo","useContext","onSubmit","event","preventDefault","placeholder","onChange","e","Todo","_useContext","defaultChecked","onClick","Todos","useEffect","AddTodo_AddTodo_AddTodo","title","map","index","key","Toast","toastType","setToastType","notificationColor","setTimeout","Fragment","App","TodoState_TodoProvider","Header_Header","Todos_Todos","Toast_Toast_Toast","rootElement","document","getElementById","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.1fd409fc.chunk.js","sourcesContent":["import React from 'react';\nimport './Header.css';\n\nexport function Header() {\n  return (\n    <nav className=\"navbar\" role=\"navigation\" aria-label=\"main navigation\">\n      <div className=\"navbar-brand\">\n        <h1 href=\"/\" className=\"navbar-item\">\n          React / Node Todo App\n        </h1>\n\n        <div className=\"navbar-end\">\n          <div className=\"navbar-item\">\n            <div className=\"buttons\">\n              <a\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                href=\"https://github.com/andreviallon/react-hooks-todo-app\"\n                className=\"button is-primary\"\n              >\n                <strong>View in Github</strong>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n}\n","export default (state, action) =>Â {\n    switch(action.type) {\n        case 'GET_TODOS':\n            return {\n                ...state,\n                todos: action.payload\n            };\n        case 'ADD_TODO':\n            return {\n                ...state,\n                todos: [...state.todos, action.payload],\n                toast: { action: 'add', message: 'Todo Added', isShown: true }\n            };\n        case 'CHECK_TODO':\n            return {\n                ...state\n            };\n        case 'DELETE_TODO':\n            return {\n                ...state,\n                todos: state.todos.filter(todo => todo._id !== action.payload),\n                toast: { action: 'delete', message: 'Todo Deleted', isShown: true }\n            };\n        case 'TODOS_ERROR':\n            return {\n                ...state,\n                toast: { action: 'error', message: action.payload, isShown: true }\n            };\n        case 'CLEAR_TOAST':\n            return {\n                ...state,\n                toast: { ...state.toast, isShown: action.payload}\n            };\n        default:\n            return state;\n    }\n}\n","import React, { createContext, useReducer } from 'react';\nimport TodoReducer from './TodoReducer';\nimport axios from 'axios';\n\nconst initialState = {\n    todos: [],\n    toast: { action: '', message: '', isShown: false }\n}\n\nexport const TodoContext = createContext(initialState);\n\nexport const TodoProvider = ({ children }) => {\n    const [state, dispatch] = useReducer(TodoReducer, initialState);\n\n    async function getTodos() {\n        try {\n            const res = await axios.get('/api/v1/todos');\n            dispatch({\n                type: 'GET_TODOS',\n                payload: res.data.data\n            })\n        } catch(err) {\n            dispatch({\n                type: 'TODOS_ERROR',\n                payload: err.response.data.error\n            })\n        }\n    }\n\n    async function deleteTodo(id) {\n        try {\n            await axios.delete(`/api/v1/todos/${id}`);\n            dispatch({\n                type: 'DELETE_TODO',\n                payload: id\n            });\n        }\n        catch(err) {\n            dispatch({\n                type: 'TODOS_ERROR',\n                payload: err.response.data.error\n            })\n        }\n    }\n\n    async function addTodo(todo) {\n        if (todo.trim() === '') return;\n\n        const newTodo = { text: todo, checked: false};\n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        }\n        \n        try {\n            const res = await axios.post('api/v1/todos', newTodo, config);\n            dispatch({\n                type: 'ADD_TODO',\n                payload: res.data.data\n            });\n        } catch (err) {\n            console.log('err =>', err);\n            dispatch({\n                type: 'TODOS_ERROR',\n                payload: err.response.data.error\n            })\n        }\n    }\n\n    async function checkTodo(todo) {\n        const updatedTodo = { ...todo, checked: !todo.checked };\n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        }\n\n        try {\n            const res = await axios.put(`api/v1/todos/${todo._id}`, updatedTodo, config);\n            dispatch({\n                type: 'CHECK_TODO',\n                payload: res.data.data\n            });\n        } catch (err) {\n            dispatch({\n                type: 'TODOS_ERROR',\n                payload: err.response.data.error\n            })\n        }\n    }\n\n    function clearToast() {\n        dispatch({\n            type: 'CLEAR_TOAST',\n            payload: false\n        });\n    }\n\n    return (\n        <TodoContext.Provider\n            value={{\n                todos: state.todos,\n                toast: state.toast,\n                getTodos,\n                addTodo,\n                checkTodo,\n                deleteTodo,\n                clearToast\n            }}>\n            {children}\n        </TodoContext.Provider>\n    );\n}\n","import React, { useState, useContext } from 'react';\nimport { TodoContext } from '../../context/TodoState';\nimport './AddTodo.css';\n\nexport const AddTodo = () => {\n  const [todo, setTodo] = useState('');\n  const { addTodo } = useContext(TodoContext);\n\n  const onSubmit = event => {\n    event.preventDefault()\n    addTodo(todo);\n    setTodo('');\n  }\n\n  return (\n    <form className=\"flex-container\" onSubmit={onSubmit}>\n      <input className=\"input\" type=\"text\" placeholder=\"Todo\" value={todo} onChange={(e) => setTodo(e.target.value)} />\n      <button className=\"button is-primary\">Add Todo</button>\n    </form>\n  );\n}\n","import React, { useContext } from 'react';\nimport { TodoContext } from '../../context/TodoState';\n\nexport function Todo({ todo }) {\n  const { deleteTodo, checkTodo } = useContext(TodoContext);\n\n  return (\n    <tr>\n      <td className=\"table-todo\">\n        <label className=\"checkbox\">\n          <input type=\"checkbox\" defaultChecked={todo.checked} onClick={() => checkTodo(todo)} />\n          <div className=\"todo\">{todo.text}</div>\n        </label>\n        <span className=\"delete\" onClick={() => deleteTodo(todo._id)}/>\n      </td>\n    </tr>\n  );\n}\n","import React, { useContext, useEffect } from 'react';\nimport './Todos.css';\nimport { AddTodo } from '../AddTodo/AddTodo';\nimport { Todo } from '../Todo/Todo';\nimport { TodoContext } from '../../context/TodoState';\n\nexport function Todos() {\n  const { todos, getTodos } = useContext(TodoContext);\n  \n  useEffect(() => {\n    getTodos();\n  }, []);\n\n  return (\n    <div>\n    <AddTodo />\n      <div className=\"todo-list\">\n        <div className=\"table-container\">\n          <table className=\"table is-fullwidth is-hoverable\">\n            <thead>\n              <tr>\n                <th>\n                  <div title=\"Todos\">Todos</div>\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              {todos.map((todo, index) => (\n                <Todo\n                  key={index}\n                  index={index}\n                  todo={todo}\n                />\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useContext, useEffect } from 'react';\nimport { TodoContext } from '../../context/TodoState';\nimport './Toast.css';\n\nexport const Toast = () => {\n    const [toastType, setToastType] = useState('');\n    const { toast, clearToast } = useContext(TodoContext);\n\n    useEffect(() => {\n        notificationColor();\n        if (toast.isShown) setTimeout(() => clearToast(), 3000);\n    }, [toast]);\n\n    const notificationColor = () => {\n        switch (toast.action) {\n            case 'add':\n                return setToastType('is-primary');\n            case 'delete':\n                return setToastType('is-warning');\n            case 'error':\n                return setToastType('is-danger');\n            default:\n                return setToastType('is-primary');\n        }\n    }\n\n    const clear = () => clearToast();\n\n    return (\n        <React.Fragment>\n            {toast.isShown ? \n                <div className={`notification ${toastType}`}>\n                    <strong>{toast.message}</strong>\n                    <button className=\"delete\" onClick={() => clear()}></button>\n                </div>\n            : null}\n        </React.Fragment>\n    )\n}\n","import React from 'react';\nimport './styles.css';\nimport 'bulma/css/bulma.css';\n\nimport { Header } from './components/Header/Header';\nimport { Todos } from './components/Todos/Todos';\nimport { Toast } from './components/Toast/Toast';\nimport { TodoProvider } from './context/TodoState';\n\nexport default function App() {\n  return (\n    <TodoProvider className=\"App\">\n      <Header />\n      <div className=\"container\">\n        <Todos />\n      </div>\n      <Toast />\n    </TodoProvider>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}